<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/static/apple-touch-icon.png' | url }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ '/static/favicon-32x32.png' | url }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ '/static/favicon-16x16.png' | url }}">
  <link rel="manifest" href="{{ '/site.webmanifest' | url }}">
  <meta name="theme-color" content="#ffffff">
  <title>{{ title }} | Edge Robotics Studio</title>
  <meta name="description" content="Edge Robotics Studio - Delivering custom robotics solutions, embedded systems, and simulation services.">
  <link rel="canonical" href="https://edgeroboticsstudio.com{{ page.url }}">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://edgeroboticsstudio.com{{ page.url }}">
  <meta property="og:title" content="{{ title }} | Edge Robotics Studio">
  <meta property="og:description" content="Edge Robotics Studio - Delivering custom robotics solutions, embedded systems, and simulation services.">
  <meta property="og:image" content="https://edgeroboticsstudio.com/static/logo.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://edgeroboticsstudio.com{{ page.url }}">
  <meta property="twitter:title" content="{{ title }} | Edge Robotics Studio">
  <meta property="twitter:description" content="Edge Robotics Studio - Delivering custom robotics solutions, embedded systems, and simulation services.">
  <meta property="twitter:image" content="https://edgeroboticsstudio.com/static/logo.png">

  <!-- Lenis Smooth Scroll (Fluid Feel) -->
  <script src="https://unpkg.com/lenis@1.1.20/dist/lenis.min.js"></script>
  <style>
    html.lenis, html.lenis body { height: auto; }
    .lenis.lenis-smooth { scroll-behavior: auto !important; }
    .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
    .lenis.lenis-stopped { overflow: hidden; }
    .lenis.lenis-scrolling iframe { pointer-events: none; }
  </style>

  <link rel="stylesheet" href="{{ '/styles/main.css' | url }}">
</head>
<body>
  {% include "header.njk" %}
  <main>
    {{ content | safe }}
  </main>
  {% include "footer.njk" %}
  {% include "chatbot.njk" %}
</body>
  <script>
    // Initialize Lenis for fluid scrolling
    const lenis = new Lenis({
      duration: 1.2,
      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), 
      lerp: 0.1, // Adjusted for natural fluid feel
      smoothWheel: true,
      wheelMultiplier: 1,
    });

    function raf(time) {
      lenis.raf(time);
      requestAnimationFrame(raf);
    }
    requestAnimationFrame(raf);
  </script>
</body>
</html>
