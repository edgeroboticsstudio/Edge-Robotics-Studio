---
layout: layout.njk
title: Contact
---

<section class="contact-section">
  <div class="card container">
    
    <form id="contact-form">
      <label>Name*</label>
      <input type="text" name="name" required />

      <label>Subject*</label>
      <input type="text" name="subject" required />

      <label>Email*</label>
      <input type="email" name="email" required />

      <label>Message*</label>
      <textarea name="message" rows="6" required></textarea>

      <!-- reCAPTCHA -->
      <div class="g-recaptcha" data-sitekey="6LfkJKUrAAAAALXhKvJoxpjpRl9XHXQU3ppZ0vGT"></div>

      <button type="submit">Submit</button>
      <p id="form-status"></p>
    </form>

    <div class="info">
      <h2>Contact</h2>
      <p>Please use the contact form to get in touch.</p>
      <p>Alternatively, send an e-mail to: <a href="mailto:edgeroboticsstudio@gmail.com">edgeroboticsstudio@gmail.com</a></p>
    </div>

  </div>
</section>

<!-- Loading Overlay -->
<div id="loading-overlay">
  <p>Sending your message...</p>
  <div class="dots">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<!-- Scripts -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
document.getElementById('contact-form').addEventListener('submit', function(e){
  e.preventDefault();
  const formEl=this;
  const overlay=document.getElementById('loading-overlay');

  formEl.style.display='none';
  overlay.classList.add('show');

  const form=new FormData(formEl);
  form.append("referer", window.location.hostname);

  fetch("https://script.google.com/macros/s/AKfycbzEtalpqq0uH-sQ-uwd8MvkdP6kZkU7_6kYd3ohCRcI5nbeV3bYu0huJ0dwalLY-FYP5Q/exec",{
    method:"POST",
    body:form
  }).then(r=>r.text()).then(result=>{
    overlay.classList.remove('show');
    formEl.style.display='block';
    if(result==="Success"){
      alert("Message sent successfully!");
      formEl.reset();
      if(typeof grecaptcha!=='undefined') grecaptcha.reset();
    }else{
      alert("Error: "+result);
    }
  }).catch(err=>{
    overlay.classList.remove('show');
    formEl.style.display='block';
    alert("Something went wrong.");
    console.error(err);
  });
});
</script>
